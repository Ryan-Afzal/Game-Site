$("document").ready(function(){var n={active:!0,set:new Set},e=function(){n.active=!1;$("#win-alert").show()},o=function(){return Math.random()>=.5},t=function(n,t,i){return n*t+i},s=function(i,r,u,f){var e=$("<div><\/div>").addClass("tile").attr("id",`tile-${t(i,r,u)}`).attr("tile-r",r).attr("tile-c",u);return f?e.addClass("bg-light"):(e.addClass("bg-dark"),n.set.add(e.attr("id"))),e},h=function(t,i){i?(t.removeClass("bg-dark"),t.addClass("bg-light"),n.set.delete(t.attr("id"))):(t.removeClass("bg-light"),t.addClass("bg-dark"),n.set.add(t.attr("id")))},u=function(n){h(n,n.hasClass("bg-dark"))},l=function(r,f,e){if(n.active){for(i=0;i<e;i++)u($(`#tile-${t(r,f,i)}`));for(i=e+1;i<r;i++)u($(`#tile-${t(r,f,i)}`));for(j=0;j<f;j++)u($(`#tile-${t(r,j,e)}`));for(j=f+1;j<r;j++)u($(`#tile-${t(r,j,e)}`));u($(`#tile-${t(r,f,e)}`))}},f=function(t){var a=$("#tile-grid-body"),i,u,h;for(r=0;r<t;r++){for(i=$("<tr><\/tr>"),c=0;c<t;c++)u=s(t,r,c,o()),h=$("<td><\/td>").append(u),u.click(function(){l(t,parseInt(this.getAttribute("tile-r")),parseInt(this.getAttribute("tile-c")));n.set.size==0&&e()}),i.append(h);a.append(i)}n.set.size==0&&(console.log("empty grid, regenerating..."),f(t))};$("#win-alert").hide();f(2)});