"use strict;";function shuffle(n){n.sort(()=>Math.random()-.5)}$("document").ready(function(){var it=$("#settingsModal"),rt=$("#settingsModalOk"),t=$("#turn-over-button"),f,n,i,c,r,e=function(){f=[];n=[];i=!1;c=18;r=3;$("#win-alert").empty();$("#restart-button").toggleClass("btn-danger",!0).toggleClass("btn-success",!1);u();l()},l=function(){var y=$("#card-grid-col"),s=$("#card-grid"),h=$("#card-grid-body"),r,u,e,o,t;h.empty();var c=3,n=6,i=y.width(),p=s.attr("cellspacing"),w=s.attr("cellpadding"),i=(i-w*2*n-p*(n-1))/n,b=i*3/2,l=[...Array(c*n).keys()];for(shuffle(l),r=0,u=0;u<c;u++){for(e=$("<tr><\/tr>"),o=0;o<n;o++)t=a(l[r],i,b),t.click(function(){v($(this))}),f.push(t),e.append($("<td><\/td>").append(t)),r++;h.append(e)}},a=function(n,t,i){return $("<div><\/div>").attr("id",`card-${n}`).attr("card-num",Math.floor(n/2)+1).addClass("game-card game-card-active bg-dark").attr("style",`width: ${t}px; height: ${i}px;`).append($("<h2><\/h2>").addClass("game-card-text text-light").text("?"))},v=function(t){i||(n.indexOf(t.attr("id"))==-1?n.length<r&&y(t):o(t))},y=function(t){n.push(t.attr("id"));t.toggleClass("bg-dark",!1);t.toggleClass("bg-primary",!0);n.length==r&&nt()},o=function(t){var i=n.indexOf(t.attr("id"));n.splice(i,1);t.toggleClass("bg-dark",!0);t.toggleClass("bg-primary",!1);n.length<r&&u()},p=function(){while(n.length>0)o($(`#${n[0]}`))},w=function(){var r,u,t;for(i=!0,r=[],u=!1,t=0;t<n.length;t++){var e=n[t],f=$(`#${e}`),h=f.attr("card-num"),o=r.find(n=>$(`#${n}`).attr("card-num")==h);o!=undefined&&(u=!0,s(f),s($(`#${o}`)));r.push(e);b(f)}u&&tt()},b=function(n){n.children(".game-card-text").text(n.attr("card-num"))},k=function(){var r,t;for(i=!1,t=0;t<n.length;t++)r=$(`#${n[t]}`),g(r);for(t=n.length-1;t>1;t--){var f=Math.floor(Math.random()*(t+1)),e=n[t],o=n[f];d($(`#${e}`).parent(),$(`#${o}`).parent())}p();u()},d=function(n,t){var i=n.parent(),r=i.children().index(n);n.insertAfter(t);r==0?t.insertBefore(i.children().get(0)):t.insertAfter(i.children().get(r-1))},g=function(n){n.children(".game-card-text").text("?")},s=function(n){n.toggleClass("bg-dark",!1);n.toggleClass("bg-primary",!1);n.toggleClass("bg-warning",!0);n.toggleClass("game-card-active",!1);n.toggleClass("game-card-win",!0)},nt=function(){t.toggleClass("disabled",!1);t.removeAttr("disabled");t.click(h)},u=function(){t.toggleClass("disabled",!0);t.attr("disabled","disabled");t.off("click")},h=function(){i?k():w()},tt=function(){var n=$("<div><\/div>").addClass("card-body text-center").append($("<h3><\/h3>").addClass("card-title text-success text-center").text("You win!")),t=$("<div><\/div>").addClass("card").append(n);$("#win-alert").append(t);u();$("#restart-button").toggleClass("btn-danger",!1).toggleClass("btn-success",!0)};$("#restart-button").click(function(){e()});t.click(h);e()});